<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Responsive Images using srcset and sizes (Width Descriptors)</title>
    <meta
      name="description"
      content="Demo showing srcset with width descriptors and sizes for responsive images"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <nav class="navbar">
      <a href="srcset-density.html">srcset + DPR</a>
      <a href="srcset-sizes.html" class="active">srcset + sizes</a>
      <a href="picture.html">picture element</a>
      <a href="clientHint.html">Client Hints</a>
    </nav>

    <div class="container">
      <header>
        <h1>Responsive Images using srcset and sizes (Width Descriptors)</h1>

        <p>
          This demo uses <code>srcset</code> with width descriptors (example:
          640w, 1080w) and a simplified <code>sizes</code> rule. The browser
          picks the best file based on the rendered image size and device pixel
          ratio.
        </p>

        <p>
          Resize the browser or use Chrome device emulator, then check the
          selected URL shown under each image.
        </p>

        <p>
          <strong>sizes used:</strong>
          <code>(max-width: 600px) 100vw, (max-width: 900px) 50vw, 33vw</code>
        </p>

        <p>
          Read more on how <code>srcset</code> and <code>sizes</code> attributes
          work in our
          <a
            href="https://imagekit.io/responsive-images/#chapter-5---srcset-with-sizes"
            target="_blank"
            >Responsive Image Guide</a
          >.
        </p>
      </header>

      <div class="stats">
        <div class="row">
          <strong>Device Pixel Ratio:</strong> <span id="dpr"></span>
        </div>
        <div class="row">
          <strong>Viewport width:</strong> <span id="vw"></span> px
        </div>
      </div>

      <section class="grid" aria-label="Responsive image grid demo">
        <!-- Card 1 -->
        <article class="card">
          <img
            class="thumb responsive"
            alt="Happy daughter"
            src="https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-3840,c-at_max"
            srcset="
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-256,c-at_max   256w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-384,c-at_max   384w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-640,c-at_max   640w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-750,c-at_max   750w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-828,c-at_max   828w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-1080,c-at_max 1080w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-1200,c-at_max 1200w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-1920,c-at_max 1920w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-2048,c-at_max 2048w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Happy%20daughter_uuqnhToxV.jpg?tr=w-3840,c-at_max 3840w
            "
            sizes="(max-width: 600px) 100vw, (max-width: 900px) 50vw, 33vw"
          />
          <div class="meta">
            <p class="label">Selected image URL</p>
            <a class="url currentSrc" href="#" target="_blank" rel="noopener">
              Loading…
            </a>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="card">
          <img
            class="thumb responsive"
            alt="Smile"
            src="https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-3840,c-at_max"
            srcset="
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-256,c-at_max   256w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-384,c-at_max   384w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-640,c-at_max   640w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-750,c-at_max   750w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-828,c-at_max   828w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-1080,c-at_max 1080w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-1200,c-at_max 1200w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-1920,c-at_max 1920w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-2048,c-at_max 2048w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Smile_t2oV0fxJZ.jpg?tr=w-3840,c-at_max 3840w
            "
            sizes="(max-width: 600px) 100vw, (max-width: 900px) 50vw, 33vw"
          />
          <div class="meta">
            <p class="label">Selected image URL</p>
            <a class="url currentSrc" href="#" target="_blank" rel="noopener">
              Loading…
            </a>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="card">
          <img
            class="thumb responsive"
            alt="Portrait photography of man"
            src="https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-3840,c-at_max"
            srcset="
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-256,c-at_max   256w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-384,c-at_max   384w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-640,c-at_max   640w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-750,c-at_max   750w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-828,c-at_max   828w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-1080,c-at_max 1080w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-1200,c-at_max 1200w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-1920,c-at_max 1920w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-2048,c-at_max 2048w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/portrait%20photography%20of%20man_MDQ926JLI.jpg?tr=w-3840,c-at_max 3840w
            "
            sizes="(max-width: 600px) 100vw, (max-width: 900px) 50vw, 33vw"
          />
          <div class="meta">
            <p class="label">Selected image URL</p>
            <a class="url currentSrc" href="#" target="_blank" rel="noopener">
              Loading…
            </a>
          </div>
        </article>

        <!-- Card 4 -->
        <article class="card">
          <img
            class="thumb responsive"
            alt="CouponSnappy example"
            src="https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-3840,c-at_max"
            srcset="
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-256,c-at_max   256w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-384,c-at_max   384w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-640,c-at_max   640w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-750,c-at_max   750w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-828,c-at_max   828w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-1080,c-at_max 1080w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-1200,c-at_max 1200w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-1920,c-at_max 1920w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-2048,c-at_max 2048w,
              https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Picture%20taken%20for%20CouponSna..._kOX-M-Ot3.jpg?tr=w-3840,c-at_max 3840w
            "
            sizes="(max-width: 600px) 100vw, (max-width: 900px) 50vw, 33vw"
          />
          <div class="meta">
            <p class="label">Selected image URL</p>
            <a class="url currentSrc" href="#" target="_blank" rel="noopener">
              Loading…
            </a>
          </div>
        </article>
      </section>
    </div>

    <script>
      const dprEl = document.getElementById("dpr");
      const vwEl = document.getElementById("vw");

      const updateStats = () => {
        dprEl.textContent = window.devicePixelRatio;
        vwEl.textContent = window.innerWidth;
      };

      const updateCards = () => {
        document.querySelectorAll(".card").forEach((card) => {
          const img = card.querySelector("img.responsive");
          const urlEl = card.querySelector(".currentSrc");
          if (!img || !urlEl) return;

          const pickedUrl = img.currentSrc || img.src;

          urlEl.textContent = pickedUrl;
          urlEl.href = pickedUrl;
          urlEl.title = pickedUrl;
        });
      };

      const updateAll = () => {
        updateStats();
        updateCards();
      };

      window.addEventListener("resize", updateAll);
      window.addEventListener("orientationchange", updateAll);

      document.querySelectorAll("img.responsive").forEach((img) => {
        img.addEventListener("load", updateAll);
      });

      updateAll();
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Responsive Images using srcset and DPR</title>
    <meta
      name="description"
      content="Demo showing srcset with display density descriptors"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        background-color: #f6f7f9;
        margin: 0;
        padding: 24px;
        color: #1f2937;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: #ffffff;
        border-radius: 16px;
        padding: 32px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      }

      h1 {
        font-size: 28px;
        margin: 0 0 12px;
        line-height: 1.3;
      }

      p {
        font-size: 16px;
        line-height: 1.6;
        color: #4b5563;
        margin: 0 0 12px;
      }

      .demo-image {
        margin-top: 24px;
        display: flex;
        justify-content: center;
      }

      img {
        width: 100%;
        max-width: 720px;
        height: auto;
        border-radius: 12px;
        object-fit: cover;
      }

      .info-box {
        margin-top: 24px;
        padding: 20px;
        background: #f1f5f9;
        border-radius: 12px;
        font-size: 14px;
        overflow-wrap: break-word;
      }

      .info-box p {
        margin: 8px 0;
      }

      code {
        display: inline-block;
        background: #e5e7eb;
        padding: 6px 8px;
        border-radius: 6px;
        font-size: 13px;
        max-width: 100%;
        word-break: break-all;
      }

      @media (max-width: 640px) {
        body {
          padding: 16px;
        }

        .container {
          padding: 20px;
          border-radius: 12px;
        }

        h1 {
          font-size: 22px;
        }

        p {
          font-size: 15px;
        }

        .info-box {
          font-size: 13px;
          padding: 16px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>Responsive Images using srcset (DPR)</h1>

      <p>
        This demo shows how browsers automatically select the best image based
        on device pixel ratio using
        <code>srcset</code> with density descriptors like <code>1x</code>,
        <code>2x</code>, and <code>3x</code>.
      </p>

      <p>
        Open Chrome DevTools and switch between devices to see how the loaded
        image changes.
      </p>

      <div class="demo-image">
        <img
          id="responsiveImage"
          src="https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Faces%20in%20different%20places_odzjVuKXW.jpg"
          srcset="
            https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Faces%20in%20different%20places_odzjVuKXW.jpg?tr=w-300,c-at_max 1x,
            https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Faces%20in%20different%20places_odzjVuKXW.jpg?tr=w-600,c-at_max 2x,
            https://ik.imagekit.io/Kashish12345/Demo/Responsive%20Image/Faces%20in%20different%20places_odzjVuKXW.jpg?tr=w-900,c-at_max 3x
          "
          alt="Responsive image demo"
        />
      </div>

      <div class="info-box">
        <p><strong>Device Pixel Ratio:</strong> <span id="dpr"></span></p>
        <p><strong>Image loaded by browser:</strong></p>
        <p><code id="currentSrc"></code></p>
      </div>
    </div>

    <script>
      const img = document.getElementById("responsiveImage");
      const dprEl = document.getElementById("dpr");
      const currentSrcEl = document.getElementById("currentSrc");

      const updateInfo = () => {
        dprEl.textContent = window.devicePixelRatio;
        currentSrcEl.textContent = img.currentSrc || img.src;
      };

      updateInfo();

      img.addEventListener("load", updateInfo);
      window.addEventListener("resize", updateInfo);
    </script>
  </body>
</html>
